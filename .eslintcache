[{"/home/sszemis/Projects/cs554/CS554FinalProject/src/index.tsx":"1","/home/sszemis/Projects/cs554/CS554FinalProject/src/reportWebVitals.ts":"2","/home/sszemis/Projects/cs554/CS554FinalProject/src/App.tsx":"3","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/home.tsx":"4","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/song.tsx":"5","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/songs.tsx":"6","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/login.tsx":"7","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/player.tsx":"8","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/playlists.tsx":"9","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/playlist.tsx":"10","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/BarChart.tsx":"11"},{"size":500,"mtime":1608247249587,"results":"12","hashOfConfig":"13"},{"size":425,"mtime":1608247249587,"results":"14","hashOfConfig":"13"},{"size":2474,"mtime":1608254981042,"results":"15","hashOfConfig":"13"},{"size":384,"mtime":1608252853271,"results":"16","hashOfConfig":"13"},{"size":1919,"mtime":1608252853271,"results":"17","hashOfConfig":"13"},{"size":1902,"mtime":1608252853271,"results":"18","hashOfConfig":"13"},{"size":2706,"mtime":1608252853271,"results":"19","hashOfConfig":"13"},{"size":5199,"mtime":1608258081332,"results":"20","hashOfConfig":"13"},{"size":4082,"mtime":1608257046610,"results":"21","hashOfConfig":"13"},{"size":4304,"mtime":1608257875150,"results":"22","hashOfConfig":"13"},{"size":928,"mtime":1608252853271,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"w0ipxf",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/home/sszemis/Projects/cs554/CS554FinalProject/src/index.tsx",[],["49","50"],"/home/sszemis/Projects/cs554/CS554FinalProject/src/reportWebVitals.ts",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/App.tsx",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/home.tsx",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/song.tsx",["51"],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Player from './player';\r\nimport BarChart from './BarChart';\r\nimport {FaPlay} from 'react-icons/fa';\r\n\r\n\r\nconst state: any = {\r\n\tdata: [120, 1, 7, 6, 9, 10],\r\n\twidth: 700,\r\n\theight: 500,\r\n\tid: \"root\"\r\n}\r\n\r\nconst Song = (props:any) =>{\r\n    const [ loading, setLoading ] = useState<boolean>(true);\r\n    const [ songData, setSongData]=useState<any>([]);\r\n\tconst [ id\t, setId ] = useState<number>(NaN);\r\n\tconst [ track, setTrack ] = useState<string>(\"\");\r\n\r\n\t//load\r\n\tuseEffect((): void => {\r\n\t\tasync function fetchData() {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst songResp: any = await axios.get('http://localhost:8888/spotify-song?tok='+props.location.state[0].token+'&id='+props.match.params.id);\r\n\t\t\tconst song: any = songResp['data'];\r\n\t\t\tsetSongData(song)\r\n\t\t\tsetTrack(song[\"uri\"]);\r\n\t\t\t\r\n\t\t\t//Check if pagenum is valid and in bounds, if invalid or out of bounds goto page 0, need api call for bounds\r\n\t\t\tsetId(props.match.params.id)\r\n\r\n\t\t\tsetLoading(false)\r\n\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, [props.match.params.id,props.location.state]);\r\n\r\n\t//Builds list of character links\r\n\t//TODO: Make prettier, probably put everthing for each playlist into its own rectange with the album cover on the left or something\r\n\r\n\tconsole.log(songData);\r\n\tconsole.log(track)\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Loading....</h2>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t//Build list of songs in playlist\t\t\t//TODO: pagination\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Title</h1>\r\n\t\t\t\t<div onClick={() => {\r\n\t\t\t\t\tprops.setURI(songData['uri']);\r\n\t\t\t\t\tprops.setOffset(-1);\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<FaPlay />\r\n\t\t\t\t</div>\r\n\t\t\t\t<p>{songData[\"name\"]}: {id}</p>\r\n\t\t\t\t<h1>Album</h1>\r\n\t\t\t\t<p>{songData[\"album\"][\"name\"]}</p>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<BarChart data={state.data} height={state.height} width={state.width} id={state.id} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Song;\r\n","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/songs.tsx",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/login.tsx",["52","53"],"import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { access } from 'fs';\r\n\r\n// interface Spotify {\r\n//   display_name: string,\r\n//   id: string,\r\n//   email: string,\r\n//   external_urls: any,\r\n//   href: string,\r\n//   images: any,\r\n//   country: string\r\n// }\r\n\r\nconst Login = (props: any):JSX.Element => {\r\n  const [ token, setToken ] = useState(undefined);\r\n  const [ exResp, setExResp ] = useState(undefined);\r\n\r\n  function getHashParams() {\r\n    var hashParams: any = {};\r\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n        q = window.location.hash.substring(1);\r\n    e = r.exec(q)\r\n    while ( e!=null) {\r\n       hashParams[e[1]] = decodeURIComponent(e[2]);\r\n       e = r.exec(q)\r\n    }\r\n    return hashParams;\r\n  }\r\n\r\n  const makeRequest = async (tok: string) => {\r\n    try {\r\n      const reqUrl = 'https://api.spotify.com/v1/me';\r\n      const { data } = await axios.get(reqUrl, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + tok \r\n        }\r\n       });\r\n\t\t\treturn data;\r\n\t\t} catch(e) {\r\n\t\t\tthrow new Error(\"Request failed\");\r\n\t\t}\r\n  }\r\n\r\n  useEffect(\r\n    () => {\r\n      async function auth() {\r\n        try {\r\n          let params = getHashParams();\r\n          console.log(params);\r\n          let access_token = params.access_token;\r\n          props.passBackToken(access_token);\r\n          //let refresh_token = params.refresh_token;\r\n\r\n          setToken(access_token);\r\n          let resp = await makeRequest(access_token);\r\n\r\n          setExResp(resp);\r\n\r\n        } catch (e) {\r\n\r\n        }\r\n      }\r\n      auth();\r\n    },\r\n    []\r\n  )\r\n  //let noBody = 'Goodbye!';\r\n  console.log(exResp);\r\n  \r\n\treturn (\r\n\t\t<div>\r\n      <h1>\r\n        Login Page\r\n      </h1>\r\n\r\n      <Link className='link' to='/login'>\r\n        Home\r\n      </Link>\r\n      <Link className='link' to={{\r\n        pathname: \"/playlists\",\r\n        state: [{ token: token}]\r\n      }}>\r\n        Playlists\r\n      </Link>\r\n      \r\n\r\n      {/* {exResp !== undefined && token !== undefined ? \r\n      <div>\r\n         <dl>\r\n            <dt>Display name</dt><dd>{exResp1.display_name}</dd>\r\n            <dt>Id</dt><dd>{exResp.id}</dd>\r\n            <dt>Email</dt><dd>{exResp.email}</dd>\r\n            <dt>Spotify URI</dt><dd><a href={exResp.external_urls.spotify}>{exResp.external_urls.spotify}</a></dd>\r\n            <dt>Link</dt><dd><a href={exResp.href}>{exResp.href}</a></dd>\r\n            <dt>Profile Image</dt><dd><a href={exResp.images[0].url}>{exResp.images[0].url}</a></dd>\r\n            <dt>Country</dt><dd>{exResp.country}</dd>\r\n          </dl>\r\n      </div>\r\n      : noBody} */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","/home/sszemis/Projects/cs554/CS554FinalProject/src/components/player.tsx",["54","55","56"],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/playlists.tsx",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/playlist.tsx",[],"/home/sszemis/Projects/cs554/CS554FinalProject/src/components/BarChart.tsx",[],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":3,"column":8,"nodeType":"63","messageId":"64","endLine":3,"endColumn":14},{"ruleId":"61","severity":1,"message":"65","line":5,"column":10,"nodeType":"63","messageId":"64","endLine":5,"endColumn":16},{"ruleId":"66","severity":1,"message":"67","line":68,"column":5,"nodeType":"68","endLine":68,"endColumn":7,"suggestions":"69"},{"ruleId":"61","severity":1,"message":"70","line":2,"column":10,"nodeType":"63","messageId":"64","endLine":2,"endColumn":34},{"ruleId":"66","severity":1,"message":"71","line":30,"column":23,"nodeType":"63","endLine":30,"endColumn":29},{"ruleId":"66","severity":1,"message":"72","line":134,"column":6,"nodeType":"68","endLine":134,"endColumn":19,"suggestions":"73"},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"@typescript-eslint/no-unused-vars","'Player' is defined but never used.","Identifier","unusedVar","'access' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["76"],"'isConstructorDeclaration' is defined but never used.","Assignments to the 'spotifyPlayer' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","React Hook useEffect has a missing dependency: 'startPlayback'. Either include it or remove the dependency array.",["77"],"no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},{"desc":"80","fix":"81"},"Update the dependencies array to be: [props]",{"range":"82","text":"83"},"Update the dependencies array to be: [uri, offset, startPlayback]",{"range":"84","text":"85"},[1649,1651],"[props]",[4023,4036],"[uri, offset, startPlayback]"]