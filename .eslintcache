[{"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/index.tsx":"1","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/reportWebVitals.ts":"2","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/App.tsx":"3","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/songs.tsx":"4","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/home.tsx":"5","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/playlists.tsx":"6","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/login.tsx":"7","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/song.tsx":"8","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/playlist.tsx":"9","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/BarChart.tsx":"10"},{"size":500,"mtime":1607968984916,"results":"11","hashOfConfig":"12"},{"size":425,"mtime":1607968984927,"results":"13","hashOfConfig":"12"},{"size":940,"mtime":1608149188851,"results":"14","hashOfConfig":"12"},{"size":1902,"mtime":1607968984909,"results":"15","hashOfConfig":"12"},{"size":426,"mtime":1607981274840,"results":"16","hashOfConfig":"12"},{"size":2249,"mtime":1608149188878,"results":"17","hashOfConfig":"12"},{"size":2538,"mtime":1608149188861,"results":"18","hashOfConfig":"12"},{"size":2204,"mtime":1608152983255,"results":"19","hashOfConfig":"12"},{"size":2414,"mtime":1608149188870,"results":"20","hashOfConfig":"12"},{"size":928,"mtime":1608153093029,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"16f0qk9",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"24"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/index.tsx",[],["47","48"],"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/reportWebVitals.ts",[],"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/App.tsx",[],"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/songs.tsx",[],"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/home.tsx",["49"],"import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../App.css';\r\n\r\n\r\nconst Home = ():JSX.Element => {\r\n\t//TODO: make it so homepage redirects you to playlists if logged in.\r\n\t//No api calls needed\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>\r\n\t\t\t\tWelcome to Spotify Playlist Website\r\n\t\t\t</h1>\r\n\t\t\t<a href=\"http://localhost:8888/login\">\r\n\t\t\t\tLogin with Spotify\r\n\t\t\t</a>\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/playlists.tsx",["50","51"],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Fake data for testing\r\nconst fakeData:Array<object>=[\r\n\t{id:1,\r\n\tname:\"playlist1\"},\r\n\t{id:2,\r\n\t\tname:\"playlist2\"},\r\n\t{id:3,\r\n\tname:\"playlist3\"}\r\n]\r\n\r\nconst Playlists = (props:any) =>{\r\n    const [ loading, setLoading ] = useState<boolean>(true);\r\n    const [ playlistData, setPlaylistData]=useState<Array<object>>([]);\r\n    const [ pageNum, setPageNum ] = useState<number>(NaN);\r\n    let list:Array<object> = [];\r\n\r\n\tconst getPlayLists = async (tok: string) => {\r\n\t\ttry {\r\n\t\t\tconst reqUrl = 'https://api.spotify.com/v1/me/playlists';\r\n\t\t\tconst { data } = await axios.get(reqUrl, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + tok\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn data;\r\n\t\t} catch (e) {\r\n\t\t\tthrow new Error(\"Request failed\");\r\n\t\t}\r\n\t}\r\n\r\n    //load\r\n    useEffect(():void => {\r\n\t\tasync function fetchData() {\r\n\t\t\tsetLoading(true);\r\n\r\n\t\t\tconst playlists = await getPlayLists(props.location.state[0].token);\r\n\r\n\t\t\tconsole.log(playlists.items);\r\n\r\n\t\t\tsetPlaylistData(playlists.items);\r\n\t\t\t//Check if pagenum is valid and in bounds, if invalid or out of bounds goto page 0, need api call for bounds\r\n\t\t\tsetPageNum(props.match.params.pagenum);\r\n\r\n\t\t\tsetLoading(false);\r\n\t\t\t\r\n\t\t}\r\n\t\tfetchData();\r\n    }, [props.match.params.pagenum]); \r\n    \r\n\t//Builds list of playlists\r\n\t//TODO: Make prettier, probably put everthing for each playlist into its own rectange with the album cover on the left or something\r\n    const buildList = (playlist:any) => {\r\n\t\treturn (\r\n\t\t\t<li key={playlist.id}><Link className=\"siteLink\" to={{\r\n\t\t\t\tpathname: `/playlists/${playlist.id}`,\r\n\t\t\t\tstate: [{ token: props.location.state[0].token }]\r\n\t\t\t}}>{playlist.name}</Link> </li>\r\n\t\t);\r\n\t};\r\n\r\n    \r\n    if (loading) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Loading....</h2>\r\n\t\t\t</div>\r\n        );\r\n    }\r\n    //Build list of playlists\r\n    else{\r\n        list =\r\n\t\t\tplaylistData &&\r\n\t\t\tplaylistData.map((playlist) => {\r\n\t\t\t\treturn buildList(playlist);\r\n\r\n    });\r\n\t\t//TODO: pagination\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Playlists Page: {pageNum}</h1>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{list}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n    }\r\n};\r\n\r\nexport default Playlists;\r\n","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/login.tsx",["52","53","54","55","56"],"import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Spotify {\r\n  display_name: string,\r\n  id: string,\r\n  email: string,\r\n  external_urls: any,\r\n  href: string,\r\n  images: any,\r\n  country: string\r\n}\r\n\r\nconst Login = (props: any):JSX.Element => {\r\n  const [ token, setToken ] = useState(undefined);\r\n  const [ exResp, setExResp ] = useState(undefined);\r\n\r\n  function getHashParams() {\r\n    var hashParams: any = {};\r\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n        q = window.location.hash.substring(1);\r\n    while ( e = r.exec(q)) {\r\n       hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n    return hashParams;\r\n  }\r\n\r\n  const makeRequest = async (tok: string) => {\r\n    try {\r\n      const reqUrl = 'https://api.spotify.com/v1/me';\r\n      const { data } = await axios.get(reqUrl, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + tok \r\n        }\r\n       });\r\n\t\t\treturn data;\r\n\t\t} catch(e) {\r\n\t\t\tthrow new Error(\"Request failed\");\r\n\t\t}\r\n  }\r\n\r\n  useEffect(\r\n    () => {\r\n      async function auth() {\r\n        try {\r\n          let params = getHashParams();\r\n          console.log(params);\r\n          let access_token = params.access_token;\r\n          let refresh_token = params.refresh_token;\r\n\r\n          setToken(access_token);\r\n\r\n          let resp = await makeRequest(access_token);\r\n\r\n          setExResp(resp);\r\n\r\n        } catch (e) {\r\n\r\n        }\r\n      }\r\n      auth();\r\n    },\r\n    []\r\n  )\r\n  let noBody = 'Goodbye!';\r\n\treturn (\r\n\t\t<div>\r\n      <h1>\r\n        Login Page\r\n      </h1>\r\n\r\n      <Link className='link' to='/login'>\r\n        Home\r\n      </Link>\r\n      <Link className='link' to={{\r\n        pathname: \"/playlists\",\r\n        state: [{ token: token}]\r\n      }}>\r\n        Playlists\r\n      </Link>\r\n      \r\n\r\n      {/* {exResp !== undefined && token !== undefined ? \r\n      <div>\r\n         <dl>\r\n            <dt>Display name</dt><dd>{exResp1.display_name}</dd>\r\n            <dt>Id</dt><dd>{exResp.id}</dd>\r\n            <dt>Email</dt><dd>{exResp.email}</dd>\r\n            <dt>Spotify URI</dt><dd><a href={exResp.external_urls.spotify}>{exResp.external_urls.spotify}</a></dd>\r\n            <dt>Link</dt><dd><a href={exResp.href}>{exResp.href}</a></dd>\r\n            <dt>Profile Image</dt><dd><a href={exResp.images[0].url}>{exResp.images[0].url}</a></dd>\r\n            <dt>Country</dt><dd>{exResp.country}</dd>\r\n          </dl>\r\n      </div>\r\n      : noBody} */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/song.tsx",["57","58","59"],"/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/playlist.tsx",["60","61"],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//Fake data for testing\r\nconst fakeData:object=\r\n\t{id:1,\r\n\tname:\"playlist1\",\r\n\ttracks:[{id:1,name:\"track1\"},{id:2,name:\"track2\"},{id:3,name:\"track3\"}]\r\n\t}\r\n\r\nconst Playlist = (props:any) =>{\r\n    const [ loading, setLoading ] = useState<boolean>(true);\r\n    const [ playlistData, setPlaylistData]=useState<any>([]);\r\n    const [ id\t, setId ] = useState<number>(NaN);\r\n    let list:Array<object> = [];\r\n\r\n\tconst getPlayList = async (tok: string, id: string) => {\r\n\t\ttry {\r\n\t\t\tconst reqUrl = 'https://api.spotify.com/v1/playlists/' + id;\r\n\t\t\tconst { data } = await axios.get(reqUrl, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: 'Bearer ' + tok\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn data;\r\n\t\t} catch (e) {\r\n\t\t\tthrow new Error(\"Request failed\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n    //load\r\n    useEffect(():void => {\r\n\t\tasync function fetchData() {\r\n\t\t\tsetLoading(true)\r\n\r\n\t\t\tconst playlist = await getPlayList(props.location.state[0].token, props.match.params.id);\r\n\t\t\tsetPlaylistData(playlist)\r\n\t\t\t//Check if pagenum is valid and in bounds, if invalid or out of bounds goto page 0, need api call for bounds\r\n\t\t\tsetId(props.match.params.id)\r\n\r\n\t\t\tsetLoading(false)\r\n\t\t\t\r\n\t\t}\r\n\t\tfetchData();\r\n    }, [props.match.params.id]); \r\n    \r\n\t//Builds list of character links\r\n\t//TODO: Make prettier, probably put everthing for each playlist into its own rectange with the album cover on the left or something\r\n    const buildList = (song:any) => {\r\n\t\treturn (\r\n\t\t\t<li key={song.id}><Link className=\"siteLink\"  \r\n\t\t\t\tto={{\r\n\t\t\t\t\tpathname: `/songs/${song.track.id}`,\r\n\t\t\t\t\tstate: [{ token: props.location.state[0].token }]\r\n\t\t\t\t}}>{song.track.name}</Link> </li>\r\n\t\t);\r\n\t};\r\n\r\n    \r\n    if (loading) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Loading....</h2>\r\n\t\t\t</div>\r\n        );\r\n    }\r\n    //Build list of songs in playlist\r\n    else{\r\n\t\tconst tracks:Array<any> =playlistData[\"tracks\"][\"items\"]\r\n        list =\r\n\t\t\ttracks &&\r\n\t\t\ttracks.map((song) => {\r\n\t\t\t\treturn buildList(song);\r\n\r\n    });\r\n\t\t\t//TODO: pagination\r\n            return (\r\n                <div>\r\n                    <h1>{playlistData[\"name\"]}: {id}</h1>\r\n\r\n                    <br />\r\n                    <br />\r\n                    <ul>\r\n                        {list}\r\n                    </ul>\r\n                </div>\r\n            );\r\n\r\n    }\r\n};\r\n\r\nexport default Playlist;\r\n","/mnt/c/Users/Jared/Documents/SIT/20f/cs554/final/CS554FinalProject/src/components/BarChart.tsx",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":2,"column":10,"nodeType":"68","messageId":"69","endLine":2,"endColumn":14},{"ruleId":"66","severity":1,"message":"70","line":6,"column":7,"nodeType":"68","messageId":"69","endLine":6,"endColumn":29},{"ruleId":"71","severity":1,"message":"72","line":52,"column":8,"nodeType":"73","endLine":52,"endColumn":36,"suggestions":"74"},{"ruleId":"66","severity":1,"message":"75","line":6,"column":11,"nodeType":"68","messageId":"69","endLine":6,"endColumn":18},{"ruleId":"66","severity":1,"message":"76","line":18,"column":11,"nodeType":"68","messageId":"69","endLine":18,"endColumn":17},{"ruleId":"77","severity":1,"message":"78","line":24,"column":13,"nodeType":"79","messageId":"80","endLine":24,"endColumn":26},{"ruleId":"66","severity":1,"message":"81","line":51,"column":15,"nodeType":"68","messageId":"69","endLine":51,"endColumn":28},{"ruleId":"66","severity":1,"message":"82","line":67,"column":7,"nodeType":"68","messageId":"69","endLine":67,"endColumn":13},{"ruleId":"66","severity":1,"message":"70","line":6,"column":7,"nodeType":"68","messageId":"69","endLine":6,"endColumn":22},{"ruleId":"66","severity":1,"message":"83","line":38,"column":10,"nodeType":"68","messageId":"69","endLine":38,"endColumn":15},{"ruleId":"71","severity":1,"message":"72","line":56,"column":8,"nodeType":"73","endLine":56,"endColumn":31,"suggestions":"84"},{"ruleId":"66","severity":1,"message":"70","line":6,"column":7,"nodeType":"68","messageId":"69","endLine":6,"endColumn":22},{"ruleId":"71","severity":1,"message":"72","line":47,"column":8,"nodeType":"73","endLine":47,"endColumn":31,"suggestions":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"@typescript-eslint/no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'fakeData' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.location.state'. Either include it or remove the dependency array.","ArrayExpression",["88"],"'Spotify' is defined but never used.","'exResp' is assigned a value but never used.","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","'refresh_token' is assigned a value but never used.","'noBody' is assigned a value but never used.","'track' is assigned a value but never used.",["89"],["90"],"no-global-assign","no-unsafe-negation",{"desc":"91","fix":"92"},{"desc":"93","fix":"94"},{"desc":"93","fix":"95"},"Update the dependencies array to be: [props.location.state, props.match.params.pagenum]",{"range":"96","text":"97"},"Update the dependencies array to be: [props.location.state, props.match.params.id]",{"range":"98","text":"99"},{"range":"100","text":"99"},[1321,1349],"[props.location.state, props.match.params.pagenum]",[1335,1358],"[props.location.state, props.match.params.id]",[1285,1308]]